<?xml version="1.0" encoding="UTF-8"?>
<plugin>
	<extension point="org.eclipse.ui.commands">
		<command categoryId="de.cau.cs.kieler.ksbase.ui.ksbaseCategory"
			id="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Successor_State"
			name="Add Successor State">
			<commandParameter id="de.cau.cs.kieler.ksbase.editorParameter"
				name="editor" />
			<commandParameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				name="transformation" />
		</command>
		<command categoryId="de.cau.cs.kieler.ksbase.ui.ksbaseCategory"
			id="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Predecessor_State"
			name="Add Predecessor State">
			<commandParameter id="de.cau.cs.kieler.ksbase.editorParameter"
				name="editor" />
			<commandParameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				name="transformation" />
		</command>
		<command categoryId="de.cau.cs.kieler.ksbase.ui.ksbaseCategory"
			id="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Choice"
			name="Add Choice">
			<commandParameter id="de.cau.cs.kieler.ksbase.editorParameter"
				name="editor" />
			<commandParameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				name="transformation" />
		</command>
		<command categoryId="de.cau.cs.kieler.ksbase.ui.ksbaseCategory"
			id="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Flip_Transition"
			name="Flip Transition">
			<commandParameter id="de.cau.cs.kieler.ksbase.editorParameter"
				name="editor" />
			<commandParameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				name="transformation" />
		</command>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=window">
			<menu
				id="de.cau.cs.kieler.ksbase.menu.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor"
				label="KIELER">
				<visibleWhen checkEnabled="false">
					<iterate ifEmpty="false" operator="or">
						<with variable="activeEditor">
							<instanceof
								value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
						</with>
					</iterate>
				</visibleWhen>
				<command
					commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Successor_State"
					label="Add Successor State">
					<parameter name="de.cau.cs.kieler.ksbase.editorParameter"
						value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
					<parameter name="de.cau.cs.kieler.ksbase.transformationParameter"
						value="addSuccessorState" />
				</command>
				<command
					commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Predecessor_State"
					label="Add Predecessor State">
					<parameter name="de.cau.cs.kieler.ksbase.editorParameter"
						value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
					<parameter name="de.cau.cs.kieler.ksbase.transformationParameter"
						value="addPredecessorState" />
				</command>
				<command
					commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Choice"
					label="Add Choice">
					<parameter name="de.cau.cs.kieler.ksbase.editorParameter"
						value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
					<parameter name="de.cau.cs.kieler.ksbase.transformationParameter"
						value="addChoice" />
				</command>
				<command
					commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Flip_Transition"
					label="Flip Transition">
					<parameter name="de.cau.cs.kieler.ksbase.editorParameter"
						value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
					<parameter name="de.cau.cs.kieler.ksbase.transformationParameter"
						value="flipTransition" />
				</command>
			</menu>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.bindings">
		<key
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Successor_State"
			contextId="de.cau.cs.kieler.synccharts.diagram.ui.diagramContext"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+K S">
			<parameter id="de.cau.cs.kieler.ksbase.editorParameter"
				value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
			<parameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				value="addSuccessorState" />
		</key>
		<key
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Predecessor_State"
			contextId="de.cau.cs.kieler.synccharts.diagram.ui.diagramContext"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+K P">
			<parameter id="de.cau.cs.kieler.ksbase.editorParameter"
				value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
			<parameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				value="addPredecessorState" />
		</key>
		<key
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Choice"
			contextId="de.cau.cs.kieler.synccharts.diagram.ui.diagramContext"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+K C">
			<parameter id="de.cau.cs.kieler.ksbase.editorParameter"
				value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
			<parameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				value="addChoice" />
		</key>
		<key
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Flip_Transition"
			contextId="de.cau.cs.kieler.synccharts.diagram.ui.diagramContext"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+K F">
			<parameter id="de.cau.cs.kieler.ksbase.editorParameter"
				value="de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor" />
			<parameter id="de.cau.cs.kieler.ksbase.transformationParameter"
				value="flipTransition" />
		</key>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Successor_State">
			<class
				class="de.cau.cs.kieler.ksbase.ui.handler.TransformationCommandHandler" />
			<enabledWhen>
				<and>
					<with variable="selection">
						<count value="1" />
						<or>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.StateEditPart" />
							</iterate>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.State2EditPart" />
							</iterate>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.StateEditPart" />
							</iterate>
						</or>
					</with>
				</and>
			</enabledWhen>
		</handler>
		<handler
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Predecessor_State">
			<class
				class="de.cau.cs.kieler.ksbase.ui.handler.TransformationCommandHandler" />
			<enabledWhen>
				<and>
					<with variable="selection">
						<count value="1" />
						<or>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.StateEditPart" />
							</iterate>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.State2EditPart" />
							</iterate>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.StateEditPart" />
							</iterate>
						</or>
					</with>
				</and>
			</enabledWhen>
		</handler>
		<handler
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Add_Choice">
			<class
				class="de.cau.cs.kieler.ksbase.ui.handler.TransformationCommandHandler" />
			<enabledWhen>
				<and>
					<with variable="selection">
						<count value="1" />
						<or>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.StateEditPart" />
							</iterate>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.State2EditPart" />
							</iterate>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.StateEditPart" />
							</iterate>
						</or>
					</with>
				</and>
			</enabledWhen>
		</handler>
		<handler
			commandId="de.cau.cs.kieler.ksbase.de.cau.cs.kieler.synccharts.diagram.part.SyncchartsDiagramEditor.Flip_Transition">
			<class
				class="de.cau.cs.kieler.ksbase.ui.handler.TransformationCommandHandler" />
			<enabledWhen>
				<and>
					<with variable="selection">
						<count value="1" />
						<or>
							<iterate>
								<instanceof
									value="de.cau.cs.kieler.synccharts.diagram.edit.parts.TransitionEditPart" />
							</iterate>
						</or>
					</with>
				</and>
			</enabledWhen>
		</handler>
	</extension>
</plugin>
