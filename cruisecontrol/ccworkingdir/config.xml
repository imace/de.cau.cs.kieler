<cruisecontrol>
  <!-- ############################################################################################################# -->
  <!-- ###########                NEW PROJECT: helloworld                                 ########################## -->
  <!-- ############################################################################################################# -->
  <project name="helloworld" buildafterfailed="true">
    <listeners>
      <currentbuildstatuslistener file="logs/${project.name}/status.txt"/>
    </listeners>

    <!-- Bootstrappers are run every time the build runs, *before* the modification checks -->
    <bootstrappers>
	<!-- Handles updating a single file (typically build.xml and/or build.properties) from a Subversion repository before the build begins. -->
    </bootstrappers>

    <!-- Defines where cruise looks for changes, to decide
         whether to run the build (specified in seconds) -->
    <modificationset quietperiod="1800">
      <svn localworkingcopy="checkout/${project.name}"/>
 	<!-- https://rtsys.informatik.uni-kiel.de/svn/teaching/prak/07ws-model/public/quality-assurance/helloworld -->
    </modificationset>

    <!-- Configures the actual build loop, how often and which
         build file/target (seconds to sleep in between polling for changes) -->
    <schedule interval="3600">
      <ant anthome="/usr/share/ant"
           buildfile="build-${project.name}.xml"
           target="metrics"
           uselogger="false"
           usedebug="false"/>
    </schedule>

    <!-- directory to write build logs to -->
    <log logdir="logs/${project.name}"/>

    <!-- Publishers are run *after* a build completes -->
    <publishers>

	<!--
	<email mailhost="mail.informatik.uni-kiel.de"
		returnaddress="tiet@informatik.uni-kiel.de"
		buildresultsurl="http://rtsys.informatik.uni-kiel.de/cc/buildresults/${project.name}"
		skipusers="true" spamwhilebroken="true">
	    <always address="tiet@informatik.uni-kiel.de"/>
	    <failure address="tiet@informatik.uni-kiel.de"/>
	</email>
	-->

<!--
If you also want individual committers to receive email for 
all builds where they made changes, 
then set skipusers="false", and 
add a <map alias="cvsuser" address="cvsuser@mydomain.com"/>  element 
for each user inside the <email> element 
(replacing cvsuser with the real user id and email).
-->
	<htmlemail mailhost="mail.informatik.uni-kiel.de"
		returnaddress="haf@informatik.uni-kiel.de"
		defaultsuffix="@informatik.uni-kiel.de"
		buildresultsurl="http://rtsys.informatik.uni-kiel.de:8180/cruisecontrol/buildresults/${project.name}"
		skipusers="false"
		spamwhilebroken="false"
		css="/home/local/cruisecontrol/cruisecontrol-2-7-1/reporting/jsp/webcontent/css/cruisecontrol.css"
		xsldir="/home/local/cruisecontrol/cruisecontrol-2-7-1/reporting/jsp/webcontent/xsl"
		logdir="logs/${project.name}">

		<!--<map alias="tiet" address="tiet@informatik.uni-kiel.de" />-->
		<!--<map alias="oba" address="oba@informatik.uni-kiel.de" />-->
		<map alias="haf" address="haf@informatik.uni-kiel.de" />
		
		<!--<always address="tiet" /> -->
		<!--<failure address="oba" reportWhenFixed="true" />-->
		<failure address="haf" reportWhenFixed="true" />

	</htmlemail>

	<artifactspublisher
	    dir="checkout/${project.name}/target"
	    dest="artifacts/${project.name}"/>

    </publishers>
  </project>

</cruisecontrol>
