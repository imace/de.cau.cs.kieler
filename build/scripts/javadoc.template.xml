	<target name="doc" unless="no.doc" 
	    description="generate javadoc (configured by ${scriptdir}/build.xml)">
		
		<path id="doc.classpath"> 
${feature.classpath}
			<fileset dir="${doc.basedir}" includes="${doc.libIncludes}" excludes="${doc.libExcludes}" />
		</path>
		<path id="doclet.classpath">
		    <pathelement path="${doc.docletPath}"/>
		    <fileset dir="${baseLocation}/plugins">
		      <include name="**/org.eclipse.emf.common_*.jar" />
		      <include name="**/org.eclipse.emf.ecore_*.jar" />
		      <include name="**/org.eclipse.emf.ecore.xmi_*.jar" />
		      <include name="**/org.eclipse.uml2.uml_*.jar" />
              <include name="**/org.eclipse.uml2.common_*.jar" />
		    </fileset>
		</path>
		<property name="eclipse.help" value="http://help.eclipse.org/helios" />

        <!-- choose either rating doclet or UML doclet destination -->
        <if>
        <equals arg1="${doc.doclet}" arg2="de.cau.cs.kieler.doclets.UmlDoclet" />
        <then>
            <property name="destination" value="${basedir}/${uml.doc.destination}" />
        </then>
        <else>
            <property name="destination" value="${basedir}/${rating.doc.destination}" />
        </else>
        </if>

        <if>
        <equals arg1="${doc.doclet}" arg2="com.sun.tools.doclets.standard.Standard" />
        <!-- argument set for the standard doclet -->
        <then>
	        <javadoc access="protected"
    			 author="true"
    			 destdir="${basedir}/${standard.doc.destination}"
    			 doctitle="KIELER API Specification"
    			 nodeprecated="false"
	    		 nodeprecatedlist="false"
	    		 noindex="false"
	    		 nonavbar="false"
	    		 docletpath="${doc.docletPath}"
	    		 doclet="${doc.doclet}"
	    		 notree="false"
	    		 packagenames="de.cau.cs.kieler.*"
	    		 classpathref="doc.classpath"
	    		 source="1.5"
	    		 splitindex="true"
	    		 use="true"
	    		 maxmemory="1024m"
	    		 version="true">
	    		<fileset dir="${doc.basedir}" includes="${doc.includes}" excludes="${doc.excludes}" />
                <!-- 2 tag definition for purpose of reducing warnings only -->
	    		<tag name="Pt.ProposedRating" />
	    		<tag name="Pt.AcceptedRating" />
	    		<taglet name="de.cau.cs.kieler.taglets.RatingTaglet"    path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<taglet name="de.cau.cs.kieler.taglets.GeneratedTaglet" path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<taglet name="de.cau.cs.kieler.taglets.ModelTaglet"     path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<taglet name="de.cau.cs.kieler.taglets.OrderedTaglet"   path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<link offline="true" packagelistLoc="${doc.packages}/java"                        href="http://java.sun.com/javase/6/docs/api" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.platform"        href="${eclipse.help}/topic/org.eclipse.platform.doc.isv/reference/api" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.draw2d"          href="${eclipse.help}/topic/org.eclipse.draw2d.doc.isv/reference/api/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.gef"             href="${eclipse.help}/topic/org.eclipse.gef.doc.isv/reference/api/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf"             href="${eclipse.help}/topic/org.eclipse.emf.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf.transaction" href="${eclipse.help}/topic/org.eclipse.emf.transaction.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf.validation"  href="${eclipse.help}/topic/org.eclipse.emf.validation.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf.workspace"   href="${eclipse.help}/topic/org.eclipse.emf.workspace.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.gmf.runtime"     href="${eclipse.help}/topic/org.eclipse.gmf.doc/reference/api/runtime" />
	    	</javadoc>
	    </then>
	    <!-- argument set for other doclets -->
	    <else>
	        <javadoc access="protected"
    			 destdir="${destination}"
	    		 docletpathref="doclet.classpath"
	    		 doclet="${doc.doclet}"
	    		 packagenames="de.cau.cs.kieler.*"
	    		 classpathref="doc.classpath"
	    		 maxmemory="1024m">
	    		<fileset dir="${doc.basedir}" includes="${doc.includes}" excludes="${doc.excludes}" />
	    	</javadoc>
	    </else>
	    </if>
		
	</target>
	
