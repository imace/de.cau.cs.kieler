	<target name="doc" unless="no.doc" 
	    description="generate javadoc (configured by ${scriptdir}/build.xml)">
		<property name="doc.include" value="plugins/**/*.java" />
		<property name="doc.excludes" value=" " />
		<property name="doc.basedir"  value="${basedir}" />
		<property name="doc.doclet"   value="${doc.doclets}" />
		<!-- the above definition allows to overwrite theese properties;
		     this is needed in overall javadoc generation,
		     the default value is used in features' javadoc generation -->
		
		<path id="doc.classpath"> 
${feature.classpath}
			<fileset dir="${doc.basedir}" includes="${doc.libIncludes}" excludes="${doc.libExcludes}" />
		</path> 

        <if>
        <equals arg1="${doc.doclet}" arg2="com.sun.tools.doclets.standard.Standard" />
        <!-- argument set for the standard doclet -->
        <then>
	        <javadoc access="protected"
    			 author="true"
    			 destdir="${basedir}/${doc.destination}"
    			 doctitle="KIELER API Specification"
    			 nodeprecated="false"
	    		 nodeprecatedlist="false"
	    		 noindex="false"
	    		 nonavbar="false"
	    		 docletpath="${doc.docletPath}"
	    		 doclet="${doc.doclet}"
	    		 notree="false"
	    		 packagenames="de.cau.cs.kieler.*"
	    		 classpathref="doc.classpath"
	    		 source="1.5"
	    		 splitindex="true"
	    		 use="true"
	    		 maxmemory="1024m"
	    		 version="true">
	    		<fileset dir="${doc.basedir}" includes="${doc.include}" excludes="${doc.excludes}" />
                <!-- 2 tag definition for purpose of reducing warnings only -->
	    		<tag name="Pt.ProposedRating" />
	    		<tag name="Pt.AcceptedRating" />
	    		<taglet name="de.cau.cs.kieler.taglets.RatingTaglet"    path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<taglet name="de.cau.cs.kieler.taglets.GeneratedTaglet" path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<taglet name="de.cau.cs.kieler.taglets.ModelTaglet"     path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<taglet name="de.cau.cs.kieler.taglets.OrderedTaglet"   path="${hudson.home}/jobs/${javadocTagletJobName}/lastSuccessful/archive/de.cau.cs.kieler.taglets/taglets.jar" />
	    		<link offline="true" packagelistLoc="${doc.packages}/java"                        href="http://java.sun.com/javase/6/docs/api" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.platform"        href="http://help.eclipse.org/galileo/topic/org.eclipse.platform.doc.isv/reference/api" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.draw2d"          href="http://help.eclipse.org/galileo/topic/org.eclipse.draw2d.doc.isv/reference/api/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.gef"             href="http://help.eclipse.org/galileo/topic/org.eclipse.gef.doc.isv/reference/api/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf"             href="http://help.eclipse.org/galileo/topic/org.eclipse.emf.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf.transaction" href="http://help.eclipse.org/galileo/topic/org.eclipse.emf.transaction.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf.validation"  href="http://help.eclipse.org/galileo/topic/org.eclipse.emf.validation.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.emf.workspace"   href="http://help.eclipse.org/galileo/topic/org.eclipse.emf.workspace.doc/references/javadoc/" />
	    		<link offline="true" packagelistLoc="${doc.packages}/org.eclipse.gmf.runtime"     href="http://help.eclipse.org/galileo/topic/org.eclipse.gmf.doc/reference/api/runtime" />
	    	</javadoc>
	    </then>
	    <!-- argument set for other doclets -->
	    <else>
	        <javadoc access="protected"
    			 destdir="${basedir}/${doc.destination}"
	    		 docletpath="${doc.docletPath}"
	    		 doclet="${doc.doclet}"
	    		 packagenames="de.cau.cs.kieler.*"
	    		 classpathref="doc.classpath"
	    		 maxmemory="1024m">
	    		<fileset dir="${doc.basedir}" includes="${doc.includes}" excludes="${doc.excludes}" />
	    	</javadoc>
	    </else>
	    </if>
		
	</target>
	
