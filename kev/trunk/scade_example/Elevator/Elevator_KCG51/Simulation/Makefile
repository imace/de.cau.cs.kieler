#
# generated by GenMake ($Id: GenMake_l4sim.tcl,v 1.70.6.4 2005/12/15 16:00:29 pouchan Exp $)
# (Tuesday, 16 January 2007, 14:24:27)
#

CC=cl
NODE_NAME= Elevator
TARGET= $(NODE_NAME).exe
# Localization of objects
NODE_OBJECTS = ./win32
# Localization of the sources
NODE_SOURCES = .
CFLAGS= /nologo /ML /W3 /D "WIN32" /D "NDEBUG" /D "_CONSOLE" /D "_MBCS"  /D "SIM"
CFLAGS_0= /nologo /ML /W3 /D "WIN32" /D "NDEBUG" /D "_CONSOLE" /D "_MBCS" /D "SIM"
CFLAGS_1=  /D "SIGNAL_RECORD"
LDFLAGS= /machine:I386  /subsystem:console /nologo  /incremental:no
LINKER= link.exe

WORKDIR=U:/shared/modelgui/trunk/scade_example/Elevator
BIN_DIR=C:\Programme\Esterel Technologies\Scade51\bin
LIB_DIR=C:/Programme/Esterel Technologies/Scade51/lib
INCLUDE_DIR=C:/Programme/Esterel Technologies/Scade51/include
INCLUDE_LIB_DIR=C:/Programme/Esterel Technologies/Scade51/lib/include
INCLUDE_CONFIG_DIR=C:/Programme/Esterel Technologies/Scade51/include/config

LIB_OS= 
MEMORIES="$(LIB_DIR)/memories.c"
PROXY="$(LIB_DIR)/SmuProxy.c"
DEF_FILE="$(LIB_DIR)/SmuExport.def"
MAIN="$(LIB_DIR)/SmuMainWindows.c"
DEFAULT="$(LIB_DIR)/SmuDefaults.c"
NODE_OBJ =  \
	$(NODE_OBJECTS)/Elevator.obj \
	$(NODE_OBJECTS)/Elevator_interface.obj \
	$(NODE_OBJECTS)/Elevator_types.obj \
	$(NODE_OBJECTS)/memories.obj \
	$(NODE_OBJECTS)/SmuProxy.obj \
	$(NODE_OBJECTS)/SmuDefaults.obj


all :	$(TARGET)

###########################################################
##
##  EXECUTABLE GENERATION FOR THE MAIN NODE
##
###########################################################

$(NODE_NAME).exe: $(NODE_OBJECTS)/SmuMainWindows.obj $(NODE_NAME)_dll.obj $(NODE_NAME).dll
	$(LINKER) $(NODE_OBJECTS)/SmuMainWindows.obj $(NODE_NAME)_dll.obj $(NODE_NAME).lib $(LDFLAGS) /out:$@ $(LIB_OS)

$(NODE_NAME).dll : $(NODE_OBJ) $(LIB_SIM) $(DEF_FILE)
	$(LINKER) @<<
$(NODE_OBJ)
$(LIB_SIM) $(LDFLAGS) /dll /pdb:Elevator.pdb /pdbtype:sept /def:$(DEF_FILE) /implib:"$(NODE_NAME).lib" /out:$@ $(LIB_OS)
<<

$(NODE_OBJECTS)/Elevator.obj : $(NODE_SOURCES)/Elevator.c
	$(CC) -I"." -I"$(LIB_DIR)" -I"$(WORKDIR)" -I"$(INCLUDE_DIR)" -I"$(INCLUDE_CONFIG_DIR)" -I"$(INCLUDE_LIB_DIR)" $(CFLAGS) -c $(NODE_SOURCES)/Elevator.c /Fo$@

$(NODE_OBJECTS)/Elevator_interface.obj : $(NODE_SOURCES)/Elevator_interface.c
	$(CC) -I"." -I"$(LIB_DIR)" -I"$(WORKDIR)" -I"$(INCLUDE_DIR)" -I"$(INCLUDE_CONFIG_DIR)" -I"$(INCLUDE_LIB_DIR)" $(CFLAGS_0) -c $(NODE_SOURCES)/Elevator_interface.c /Fo$@

$(NODE_OBJECTS)/Elevator_types.obj : $(NODE_SOURCES)/Elevator_types.c
	$(CC) -I"." -I"$(LIB_DIR)" -I"$(WORKDIR)" -I"$(INCLUDE_DIR)" -I"$(INCLUDE_CONFIG_DIR)" -I"$(INCLUDE_LIB_DIR)" $(CFLAGS) -c $(NODE_SOURCES)/Elevator_types.c /Fo$@

$(NODE_OBJECTS)/memories.obj: $(MEMORIES)
	$(CC) $(CFLAGS) -I"$(LIB_DIR)" -c $(MEMORIES) /Fo$@

$(NODE_OBJECTS)/$(NODE_NAME)_dll.obj : $(NODE_NAME)_dll.c
	$(CC) $(CFLAGS) -c $(NODE_NAME)_dll.c /Fo$@

$(NODE_OBJECTS)/SmuDefaults.obj: $(DEFAULT)
	$(CC) $(CFLAGS) -I"$(WORKDIR)" -I"$(INCLUDE_DIR)" -I"$(INCLUDE_CONFIG_DIR)" -I"$(INCLUDE_LIB_DIR)" -c $(DEFAULT) /Fo$@

$(NODE_OBJECTS)/SmuProxy.obj: $(PROXY)
	$(CC) $(CFLAGS) -I"$(WORKDIR)" -I"$(INCLUDE_DIR)" -I"$(INCLUDE_CONFIG_DIR)" -I"$(INCLUDE_LIB_DIR)"  -c $(PROXY) /Fo$@

$(NODE_OBJECTS)/SmuMainWindows.obj: $(MAIN)
	$(CC) $(CFLAGS) -I"$(LIB_DIR)" -c $(MAIN) /Fo$@

